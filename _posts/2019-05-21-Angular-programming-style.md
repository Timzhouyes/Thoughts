---
layout:     post   				    # 使用的布局（不需要改）
title:      Angular编程风格总结			# 标题 
subtitle:   Angular官方风格指南               #副标题
date:       2019-05-21 				# 时间
author:     Haiming 						# 作者
header-img: img/post-bg-2015.jpg 	#这篇文章标题背景图片
catalog: true 						# 是否归档
tags:								#标签
    - 编程
    - 日常
    - 记录
    - 学习
    - TypeScript
    - Angular
---



浩明老哥说编程风格指南非常重要，那就咱也整一个！

在官方的风格指南里面，所有的做法都附上了原因，不论是好的还是坏的。编程风格，更像是一种程序员之间约定俗成的规定，统一的约定可以极大程度的减小阅读他人代码时候所带来的困难。

### 1.单一功能原则

在[面向对象编程](https://zh.wikipedia.org/wiki/面向对象编程)领域中，**单一功能原则**（Single responsibility principle）规定每个类都应该有一个单一的功能，并且该功能应该由这个类完全封装起来。所有它的（这个类的）服务都应该严密的和该功能平行（功能平行，意味着没有依赖）。

#### 单一规则

1. 每个文件只定义一样东西（服务或组件）
2. 文件大小限制在400行代码之内

##### 原因？

1. 单组件文件容易阅读和维护，而且可以防止在版本控制之中和团队冲突。

2. 单组件文件可以防止一些隐蔽的程序缺陷，多个组件放在一个文件之中时可能会造成共享变量，创建**意外的闭包**或者与依赖之间意外耦合。

3. 单独的组件通常是文件默认的导出，可以用路由器实现按需加载。

   **可以让代码更加复用，更易阅读，减少出错的可能性**

#### 小函数

坚持定义简单函数，考虑限制在75行之内

##### 原因？

简单函数更易于测试，特别是只为一件事或者一个目的服务的时候。

简单函数促进代码重用

简单函数易于阅读，且易于维护。

可避免易在大函数之中产生的隐蔽错误，**和上面单一规则的第2点一样。**

### 2.命名

命名约定对于可维护性和可读性很重要。

#### 总体命名规则

坚持遵循同一个规则来描述符号和特性，推荐模式是 feature.type.ts

##### 原因：

命名约定提供了一致的方式来查找内容。项目的一致性至关重要

目录名和文件名应该清楚的传递他们的意图，例如，`app/heroes/hero-list.component.ts` 包含了一个用来管理英雄列表的组件。

#### 使用点和横杠来分割文件名

用横杠来连接单词，用点来分隔描述性名字和类型：different-words.service.ts

坚持使用惯用的后缀来描述类型，包括 `*.service`、`*.component`、`*.pipe`、`.module`、`.directive`

#### 风格2-5

把引导程序和平台相关的逻辑放到名 `main.ts` 的文件里

在**引导逻辑**之中放入错误处理代码

#### 风格5-2：组件选择器

坚持使用中线命名法（带 - 的名字）来命名 元素的 selectors

原因是让元素名和自定义元素保持一致 

```typescript
//wrong
@Component({
  selector: 'tohHeroButton',
  templateUrl: './hero-button.component.html'
})

//right
@Component({
  selector: 'toh-hero-button',
  templateUrl: './hero-button.component.html'
})
```

### 3.为指令添加自定义前缀

#### 风格02-08

坚持为指令的选择器添加自定义前缀。（例如前缀 `toh` 来自 **T**our **o**f **H**eroes）

坚持用小驼峰形式拼写元素选择器，除非其用于匹配原生HTML属性

##### 原因？

防止名字冲突，同时让指令更容易被识别

### 4.管道名

#### 风格02-09

坚持为所有管道使用一致的命名约定，用其特性来命名。

##### 原因？

一致的方式快速识别和使用管道。

### 5.Angular NgModule 命名

