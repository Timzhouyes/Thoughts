---
layout:     post   				    # 使用的布局（不需要改）
title:      浅谈MySql之中的引擎				# 标题 
subtitle:   包含MySql之中的索引以及B+树的实现 #副标题
date:       2019-07-09 				# 时间
author:     Haiming 						# 作者
header-img: img/post-bg-2015.jpg 	#这篇文章标题背景图片
catalog: true 						# 是否归档
tags:								#标签
    - 编程
    - B+树
    - MySql
    - 数据结构
---

作为一款被广泛使用的数据库，MySql在很多的地方都有使用。今天在这里主要是针对其中的数据库引擎，包括不同引擎的锁的力度，还有MySql之中的索引技术进行一点简要的分析和总结。

下面是参考文章链接：

https://blog.csdn.net/zgrgfr/article/details/74455547

https://zhuanlan.zhihu.com/p/42106761

# 一、存储引擎

MySql 之中有几种存储引擎，其中最常使用的是 MyISAM 和 InnoDB。下面就这两种主要的引擎进行介绍和比较。在 MySql 5.5 之前，其默认引擎是 MyISAM, 自 5.5 之后，其默认引擎是 InnoDB。 

## 1.0 主要区别简述

1. InnoDB 支持外键和事务，对于 InnoDB 而言，每一条 SQL 语句都默认封装成事务之后提交。但是 MyISAM 不支持外键和事务。

2. MySql 之中每个表都有一个聚焦索引(clustered index)，初次之外表上的每一个其他索引都是二级索引，又叫辅助索引(secondary indexes)

   InnoDB 是聚焦索引(clustered index)，数据文件和索引捆绑在一起，必须要有主键，通过主键索引效率很高。但是辅助索引需要两次查询，第一步是得到主键，第二步才是通过主键查询到数据。因此主键不应该过大。

   MyISAM 是非聚焦索引， 数据和文件是分离的，索引保存的只是数据的指针。主键索引和辅助索引是独立的。

3. 锁的粒度不同。这一点下面会具体讲述。

4. InnoDB 不保存表的具体行数，如果执行语句`select count(*) from table` ，需要全表重新扫描一遍。但是 MyISAM 之中有一个变量保存了整个表的行数，执行上述语句只要读取这个变量即可。

5. InnoDB 不支持全文索引，但是 MyISAM 支持全文索引，查找效率上面 MyISAM 更高。

